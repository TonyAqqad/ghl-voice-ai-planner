{
  "ivr": {
    "name": "Solar Energy IVR System",
    "description": "Inbound call routing for solar energy inquiries and appointments",
    "phoneNumber": "{{env.COMPANY_PHONE}}",
    "timezone": "{{env.LOCATION_TIMEZONE}}",
    "businessHours": {
      "monday": { "open": "08:00", "close": "20:00" },
      "tuesday": { "open": "08:00", "close": "20:00" },
      "wednesday": { "open": "08:00", "close": "20:00" },
      "thursday": { "open": "08:00", "close": "20:00" },
      "friday": { "open": "08:00", "close": "20:00" },
      "saturday": { "open": "09:00", "close": "17:00" },
      "sunday": { "open": "10:00", "close": "16:00" }
    },
    "holidays": [
      "2024-01-01", "2024-07-04", "2024-12-25", "2024-12-31"
    ],
    "greeting": {
      "type": "tts",
      "text": "Thank you for calling {{company.name}}, your trusted solar energy partner. How can we help you today?",
      "voice": "sarah",
      "language": "en-US"
    },
    "menu": {
      "timeout": 10,
      "maxAttempts": 3,
      "options": [
        {
          "key": "1",
          "action": "transfer",
          "destination": "sales_team",
          "description": "Speak with a solar consultant",
          "announcement": "Connecting you with one of our solar energy consultants."
        },
        {
          "key": "2",
          "action": "transfer",
          "destination": "appointments",
          "description": "Schedule an appointment",
          "announcement": "Let me connect you with our appointment scheduling team."
        },
        {
          "key": "3",
          "action": "transfer",
          "destination": "support",
          "description": "Customer support",
          "announcement": "Connecting you with our customer support team."
        },
        {
          "key": "4",
          "action": "voicemail",
          "destination": "general_voicemail",
          "description": "Leave a message",
          "announcement": "Please leave your name, phone number, and a brief message, and we'll get back to you within one business day."
        },
        {
          "key": "0",
          "action": "transfer",
          "destination": "operator",
          "description": "Operator",
          "announcement": "Connecting you with our operator."
        }
      ]
    },
    "departments": {
      "sales_team": {
        "name": "Solar Sales Team",
        "phoneNumber": "{{env.SALES_PHONE}}",
        "greeting": "Thank you for calling our solar sales team. One of our experienced consultants will be with you shortly.",
        "holdMusic": "solar_energy_hold",
        "maxWaitTime": 300,
        "fallback": "voicemail",
        "fallbackDestination": "sales_voicemail"
      },
      "appointments": {
        "name": "Appointment Scheduling",
        "phoneNumber": "{{env.APPOINTMENT_PHONE}}",
        "greeting": "Thank you for calling to schedule your solar consultation. Our appointment coordinator will assist you.",
        "holdMusic": "solar_energy_hold",
        "maxWaitTime": 180,
        "fallback": "voicemail",
        "fallbackDestination": "appointment_voicemail"
      },
      "support": {
        "name": "Customer Support",
        "phoneNumber": "{{env.SUPPORT_PHONE}}",
        "greeting": "Thank you for calling customer support. We're here to help with any questions about your solar system.",
        "holdMusic": "solar_energy_hold",
        "maxWaitTime": 240,
        "fallback": "voicemail",
        "fallbackDestination": "support_voicemail"
      },
      "operator": {
        "name": "Main Operator",
        "phoneNumber": "{{env.OPERATOR_PHONE}}",
        "greeting": "Thank you for calling {{company.name}}. How may I direct your call?",
        "holdMusic": "solar_energy_hold",
        "maxWaitTime": 120,
        "fallback": "voicemail",
        "fallbackDestination": "general_voicemail"
      }
    },
    "voicemail": {
      "general_voicemail": {
        "name": "General Voicemail",
        "email": "{{env.GENERAL_EMAIL}}",
        "greeting": "You've reached {{company.name}}. We're currently unavailable, but your call is important to us. Please leave your name, phone number, and a brief message, and we'll return your call within one business day. Thank you for your interest in solar energy!",
        "maxDuration": 300,
        "transcription": true
      },
      "sales_voicemail": {
        "name": "Sales Voicemail",
        "email": "{{env.SALES_EMAIL}}",
        "greeting": "You've reached our solar sales team. We're currently helping other customers, but we'd love to speak with you about your solar energy needs. Please leave your name, phone number, and what you're looking for, and one of our consultants will call you back today. Thank you!",
        "maxDuration": 300,
        "transcription": true
      },
      "appointment_voicemail": {
        "name": "Appointment Voicemail",
        "email": "{{env.APPOINTMENT_EMAIL}}",
        "greeting": "You've reached our appointment scheduling team. We're currently busy helping other customers schedule their solar consultations. Please leave your name, phone number, and your preferred appointment time, and we'll call you back to confirm your appointment. Thank you!",
        "maxDuration": 300,
        "transcription": true
      },
      "support_voicemail": {
        "name": "Support Voicemail",
        "email": "{{env.SUPPORT_EMAIL}}",
        "greeting": "You've reached our customer support team. We're currently assisting other customers, but we're here to help with any questions about your solar system. Please leave your name, phone number, and a description of how we can help, and we'll get back to you within 24 hours. Thank you!",
        "maxDuration": 300,
        "transcription": true
      }
    },
    "afterHours": {
      "enabled": true,
      "greeting": "Thank you for calling {{company.name}}. Our office is currently closed, but we're here to help with your solar energy needs. Please leave your name, phone number, and a brief message, and we'll return your call during our next business day. You can also visit our website at {{company.website}} to learn more about solar energy. Thank you!",
      "action": "voicemail",
      "destination": "general_voicemail"
    },
    "holiday": {
      "enabled": true,
      "greeting": "Thank you for calling {{company.name}}. We're currently closed for the holiday, but we'll be back to help you with your solar energy needs during our next business day. Please leave your name, phone number, and a brief message, and we'll return your call as soon as we're back. Happy holidays!",
      "action": "voicemail",
      "destination": "general_voicemail"
    },
    "callRouting": {
      "rules": [
        {
          "condition": "caller_id_in_contacts",
          "action": "transfer",
          "destination": "sales_team",
          "priority": 1
        },
        {
          "condition": "caller_id_in_appointments",
          "action": "transfer",
          "destination": "appointments",
          "priority": 2
        },
        {
          "condition": "caller_id_in_support",
          "action": "transfer",
          "destination": "support",
          "priority": 3
        },
        {
          "condition": "time_between_9am_5pm",
          "action": "menu",
          "priority": 4
        },
        {
          "condition": "time_after_hours",
          "action": "after_hours",
          "priority": 5
        }
      ]
    },
    "callRecording": {
      "enabled": true,
      "announcement": "This call may be recorded for quality and training purposes.",
      "retentionDays": 90,
      "storage": "encrypted_cloud"
    },
    "analytics": {
      "trackCallVolume": true,
      "trackCallDuration": true,
      "trackCallOutcomes": true,
      "trackDepartmentPerformance": true,
      "trackVoicemailCount": true,
      "trackAbandonedCalls": true
    },
    "integration": {
      "crm": {
        "provider": "gohighlevel",
        "locationId": "{{env.LOCATION_ID}}",
        "apiKey": "{{env.GHL_API_KEY}}",
        "syncCalls": true,
        "createTasks": true,
        "updateContacts": true
      },
      "calendar": {
        "provider": "google",
        "calendarId": "{{env.CALENDAR_ID}}",
        "syncAppointments": true,
        "createEvents": true
      },
      "notifications": {
        "email": "{{env.NOTIFICATION_EMAIL}}",
        "sms": "{{env.NOTIFICATION_SMS}}",
        "slack": "{{env.SLACK_WEBHOOK}}"
      }
    },
    "compliance": {
      "tcpa_compliant": true,
      "recording_disclosure": true,
      "dnc_check": true,
      "call_time_restrictions": {
        "start_hour": 8,
        "end_hour": 21,
        "timezone": "{{env.LOCATION_TIMEZONE}}"
      }
    },
    "emergency": {
      "enabled": true,
      "phoneNumber": "{{env.EMERGENCY_PHONE}}",
      "message": "For urgent solar system issues, please call our emergency line at {{env.EMERGENCY_PHONE}} or press 9 to speak with our emergency technician."
    }
  },
  "webhooks": {
    "call_started": {
      "url": "{{env.WEBHOOK_BASE_URL}}/ivr/call-started",
      "method": "POST",
      "headers": {
        "Authorization": "Bearer {{env.WEBHOOK_API_KEY}}",
        "Content-Type": "application/json"
      }
    },
    "call_ended": {
      "url": "{{env.WEBHOOK_BASE_URL}}/ivr/call-ended",
      "method": "POST",
      "headers": {
        "Authorization": "Bearer {{env.WEBHOOK_API_KEY}}",
        "Content-Type": "application/json"
      }
    },
    "voicemail_left": {
      "url": "{{env.WEBHOOK_BASE_URL}}/ivr/voicemail-left",
      "method": "POST",
      "headers": {
        "Authorization": "Bearer {{env.WEBHOOK_API_KEY}}",
        "Content-Type": "application/json"
      }
    },
    "transfer_completed": {
      "url": "{{env.WEBHOOK_BASE_URL}}/ivr/transfer-completed",
      "method": "POST",
      "headers": {
        "Authorization": "Bearer {{env.WEBHOOK_API_KEY}}",
        "Content-Type": "application/json"
      }
    }
  },
  "environment": {
    "company": {
      "name": "{{env.COMPANY_NAME}}",
      "phone": "{{env.COMPANY_PHONE}}",
      "website": "{{env.COMPANY_WEBSITE}}",
      "email": "{{env.COMPANY_EMAIL}}"
    },
    "location": {
      "id": "{{env.LOCATION_ID}}",
      "name": "{{env.LOCATION_NAME}}",
      "timezone": "{{env.LOCATION_TIMEZONE}}"
    }
  }
}
